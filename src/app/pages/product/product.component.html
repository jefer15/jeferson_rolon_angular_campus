<div class="p-6 space-y-6 bg-gray-300 min-h-screen">

  <h1 class="text-3xl font-bold text-gray-800 mb-4">Gestión de Productos</h1>

  <div class="flex justify-between items-center mb-6">
    <button mat-raised-button (click)="addProduct()"
      class=" text-white bg-[#424242] px-6 py-3 rounded-lg flex items-center shadow-md transition duration-300 ease-in-out transform hover:scale-105">
      <mat-icon>add</mat-icon>
      <span class="ml-2">Añadir Producto</span>
    </button>

    <div class="">
      <button mat-button [matMenuTriggerFor]="filterMenu"
        class="bg-[#424242] text-white px-4 py-2 rounded-lg flex items-center shadow-md transition duration-300 ease-in-out">
        <mat-icon>filter_list</mat-icon>
        <span class="ml-2">Filtrar Categorías</span>
      </button>

      <mat-menu #filterMenu="matMenu" class="filter-menu">
        <button mat-menu-item (click)="getProducts()">
          <span class="text-white">Todas</span>
        </button>
        <button mat-menu-item (click)="getProducts('Hogar')">
          <span class="text-white">Hogar</span>
        </button>
        <button mat-menu-item (click)="getProducts('Estudio')">
          <span class="text-white">Estudio</span>
        </button>
        <button mat-menu-item (click)="getProducts('Libros')">
          <span class="text-white">Libros</span>
        </button>

        <button mat-menu-item (click)="getProducts('Deportes')">
          <span class="text-white">Deportes</span>
        </button>
      </mat-menu>
    </div>

  </div>

  <div class="overflow-x-auto rounded-lg shadow-lg bg-white">
    <table  mat-table [dataSource]="dataSource" matSort class="w-full bg-white mat-elevation-z2">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">ID</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">Título</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ row.name }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">Descripción</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ row.description }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">Precio</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ row.price }}</td>
      </ng-container>

      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">Categoría</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ row.category }}</td>
      </ng-container>

      <ng-container matColumnDef="available">
  <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">
    Disponibilidad
  </th>
  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-sm"
      [ngClass]="row.available ? 'text-green-600 bg-green-100' : 'text-red-600 bg-red-100'">
    {{ row.available ? 'Disponible' : 'No disponible' }}
  </td>
</ng-container>


      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="px-6 py-4 text-left text-sm font-semibold text-white uppercase bg-gray-100">Acciones</th>
        <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
          <button mat-icon-button [matMenuTriggerFor]="menu" class="text-gray-500 hover:text-white transition duration-300 ease-in-out">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="editProduct(row)" class="flex items-center text-white hover:bg-gray-100">
              <mat-icon class="mr-2">edit</mat-icon>
              <span>Editar</span>
            </button>

            <button mat-menu-item (click)="deleteProduct(row)" class="flex items-center text-red-600 hover:bg-red-50">
              <mat-icon class="mr-2">delete</mat-icon>
              <span>Eliminar</span>
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="bg-gray-100"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50 transition duration-300 ease-in-out"></tr>
    </table>
  </div>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" class="mt-6 bg-white rounded-lg shadow-md"></mat-paginator>
</div>
